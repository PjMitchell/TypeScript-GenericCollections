var __extends=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},Collections;!function(t){var n=function(){function t(t){this.message=t,this.name="CollectionException"}return t.prototype.toString=function(){return this.name+": "+this.message},t}();t.CollectionException=n;var e=function(t){function n(n){t.call(this,n),name="KeyNotFoundException"}return __extends(n,t),n}(n);t.KeyNotFoundException=e;var r=function(){function t(t,n){this.key=t,this.value=n}return t}();t.KeyValuePair=r;var o=function(){function t(t){var n=this;this.clear(),t&&t.forEach(function(t){n.add(t)})}return t.prototype.add=function(t){var n=this,e=this.getHashCode(t),r=this.buckets[e];if(void 0===r){var o=new Array;return o.push(t),this.buckets[e]=o,this.count=this.count+1,!0}return r.some(function(e){return n.areEqual(e,t)})?!1:(r.push(t),this.count=this.count+1,!0)},t.prototype.remove=function(t){var n=this,e=this.getHashCode(t),r=this.buckets[e];if(void 0===r)return!1;var o=!1,u=new Array;return r.forEach(function(e){n.areEqual(e,t)?o=!0:u.push(t)}),this.buckets[e]=u,o&&(this.count=this.count-1),o},t.prototype.contains=function(t){return this.bucketsContains(this.buckets,t)},t.prototype.getCount=function(){return this.count},t.prototype.clear=function(){this.buckets=new Array,this.count=0},t.prototype.toArray=function(){var t=new Array;return this.buckets.forEach(function(n){n.forEach(function(n){t.push(n)})}),t},t.prototype.exceptWith=function(t){var n=this;t&&t.forEach(function(t){n.remove(t)})},t.prototype.intersectWith=function(t){var n=this;if(t){var e=this.buildInternalBuckets(t);this.toArray().forEach(function(t){n.bucketsContains(e.Buckets,t)||n.remove(t)})}else this.clear()},t.prototype.unionWith=function(t){var n=this;t.forEach(function(t){n.add(t)})},t.prototype.isSubsetOf=function(t){var n=this,e=this.buildInternalBuckets(t);return this.toArray().every(function(t){return n.bucketsContains(e.Buckets,t)})},t.prototype.isSupersetOf=function(t){var n=this;return t.every(function(t){return n.contains(t)})},t.prototype.overlaps=function(t){var n=this;return t.some(function(t){return n.contains(t)})},t.prototype.setEquals=function(t){var n=this,e=this.buildInternalBuckets(t);return e.Count!==this.count?!1:t.every(function(t){return n.contains(t)})},t.prototype.buildInternalBuckets=function(t){var n=this,e=new Array,r=0;return t.forEach(function(t){var o=n.getHashCode(t),u=e[o];if(void 0===u){var i=new Array;i.push(t),e[o]=i,r+=1}else u.some(function(e){return n.areEqual(e,t)})||(u.push(t),r+=1)}),{Buckets:e,Count:r}},t.prototype.bucketsContains=function(t,n){var e=this,r=this.getHashCode(n),o=t[r];return void 0===o?!1:o.some(function(t){return e.areEqual(t,n)})},t}();t.Set=o;var u=function(t){function n(n){t.call(this,n)}return __extends(n,t),n.prototype.getHashCode=function(t){return t.getHashCode()},n.prototype.areEqual=function(t,n){return t.equals(n)},n}(o);t.HashSet=u;var i=function(t){function n(n,e){t.call(this,e),this.comparer=n}return __extends(n,t),n.prototype.getHashCode=function(t){return this.comparer.getHashCode(t)},n.prototype.areEqual=function(t,n){return this.comparer.equals(t,n)},n}(o);t.ObjectSet=i;var s=function(){function t(){this.clear()}return t.prototype.add=function(t,e){var o=this,u=this.getHashCode(t),i=this.buckets[u];if(void 0===i){var s=new Array;return s.push(new r(t,e)),this.buckets[u]=s,void(this.count=this.count+1)}if(i.some(function(n){return o.areEqual(n.key,t)}))throw new n("Key already exists");i.push(new r(t,e)),this.count=this.count+1},t.prototype.get=function(t){var n=this,r=this.getHashCode(t),o=this.buckets[r];if(void 0===o)throw new e("Key not found");var u=o.filter(function(e){return n.areEqual(e.key,t)}).pop();if(void 0===o)throw new e("Key not found");return u.value},t.prototype.remove=function(t){var n=this,e=this.getHashCode(t),o=this.buckets[e];if(void 0===o)return!1;var u=!1,i=new Array;return o.forEach(function(e){n.areEqual(e.key,t)?u=!0:i.push(new r(e.key,e.value))}),this.buckets[e]=i,u&&(this.count=this.count-1),u},t.prototype.containsKey=function(t){var n=this,e=this.getHashCode(t),r=this.buckets[e];return void 0===r?!1:r.some(function(e){return n.areEqual(e.key,t)})},t.prototype.clear=function(){this.buckets=new Array,this.count=0},t.prototype.getCount=function(){return this.count},t.prototype.toArray=function(){var t=new Array;return this.buckets.forEach(function(n){n.forEach(function(n){t.push(n)})}),t},t}();t.Table=s;var c=function(t){function n(){t.call(this)}return __extends(n,t),n.prototype.getHashCode=function(t){return t.getHashCode()},n.prototype.areEqual=function(t,n){return t.equals(n)},n}(s);t.HashTable=c;var a=function(t){function n(n){t.call(this),this.comparer=n}return __extends(n,t),n.prototype.getHashCode=function(t){return this.comparer.getHashCode(t)},n.prototype.areEqual=function(t,n){return this.comparer.equals(t,n)},n}(s);t.ObjectTable=a}(Collections||(Collections={}));